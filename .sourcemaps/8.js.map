{"version":3,"sources":["../../src/pages/verify-otp/verify-otp.ts","../../src/pages/verify-otp/verify-otp.module.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  LoadingController\n} from \"ionic-angular\";\nimport { AuthServiceProvider } from \"../../providers/auth-service/auth-service\";\n\n/**\n * Generated class for the VerifyOtpPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: \"page-verify-otp\",\n  templateUrl: \"verify-otp.html\"\n})\nexport class VerifyOtpPage {\n  responseData: any;\n  login_data = { mobile_number: \"\", password: \"\", token: \"\" };\n  error: any;\n  loginError: any;\n  userToken: any;\n  token_type: any;\n  user_id: any;\n  process_type: any;\n  buttonLabel: any;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public authService: AuthServiceProvider,\n    public loadingCtrl: LoadingController\n  ) {\n    this.showOtp();\n    console.log(this.navParams.get(\"process_type\"));\n    this.process_type = this.navParams.get(\"process_type\");\n\n    if (this.process_type == \"register\") {\n      this.buttonLabel = \"Register\";\n    } else {\n      this.buttonLabel = \"Reset Password\";\n    }\n  }\n  back() {\n    this.navCtrl.pop();\n  }\n  showOtp() {\n    // this.login_data.password = JSON.parse(localStorage.getItem(\"parentOtp\"));\n    console.log(\"otp: \", this.login_data.password);\n    this.login_data.mobile_number = JSON.parse(\n      localStorage.getItem(\"parentMobileNumber\")\n    );\n    console.log(\"mobile_number: \", this.login_data.mobile_number);\n    this.login_data.token = JSON.parse(localStorage.getItem(\"parentToken\"));\n    console.log(\"token: \", this.login_data.token);\n    this.presentLoadingCustom();\n  }\n\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad VerifyOtpPage\");\n  }\n  presentLoadingCustom() {\n    const loading = this.loadingCtrl.create({\n      content: \"Loading OTP...\",\n      duration: 800\n    });\n\n    loading.onDidDismiss(() => {\n      console.log(\"Dismissed loading\");\n    });\n\n    loading.present();\n  }\n\n  VerifyOtp() {\n    console.log(\"login_data: \", this.login_data);\n\n    this.authService.postlogData(this.login_data, \"signin\").subscribe(\n      data => {\n        console.log(data);\n        let result = JSON.parse(data._body);\n        this.responseData = result;\n        console.log(\"login_data: \", this.login_data);\n\n        if (this.responseData.token) {\n          console.log(this.responseData);\n          localStorage.setItem(\"signData\", JSON.stringify(this.responseData));\n          localStorage.setItem(\n            \"token\",\n            JSON.stringify(this.responseData.token)\n          );\n          localStorage.setItem(\n            \"token_type\",\n            JSON.stringify(this.responseData.token_type)\n          );\n\n          // this.getUser();\n\n          // this.navCtrl.setRoot(\"MenuPage\", { login: \"student\" });\n          this.navCtrl.setRoot(\"StudResetPasswordPage\", {\n            process_type: this.process_type\n          });\n        } else {\n          // alert(\"Invalid User\");\n          this.error = true;\n          this.loginError = \"Not Valid\";\n          console.log(\"Invalid User\");\n        }\n      },\n      (err: any) => {\n        if (err.status === 401) {\n          this.error = true;\n          this.loginError = \"Invalid credentials. Please enter valid details \";\n          console.log(\"error log list: \", err);\n          console.log(\"error log list: \", err.statusText);\n          console.log(\"error log list: \", err.message);\n\n          // alert(\"Unauthorised User\");\n          // redirect to the login route\n          // or show a modal\n        }\n        if (err.status === 400) {\n          this.error = true;\n          this.loginError = \"Incorrect OTP. Kindly enter correct OTP\";\n          console.log(\"error log list: \", err);\n          // alert(\"Bad Request\");\n\n          // alert(\"Unauthorised User\");\n          // redirect to the login route\n          // or show a modal\n        }\n        if (err.status === 0) {\n          alert(\"Network Connection Error. Please try Again.\");\n          this.navCtrl.setRoot(\"LoginPage\");\n          // redirect to the login route\n          // or show a modal\n        }\n      }\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/verify-otp/verify-otp.ts","import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { VerifyOtpPage } from \"./verify-otp\";\n\n@NgModule({\n  declarations: [VerifyOtpPage],\n  imports: [IonicPageModule.forChild(VerifyOtpPage)],\n  exports: [VerifyOtpPage]\n})\nexport class VerifyOtpPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/verify-otp/verify-otp.module.ts"],"sourceRoot":""}