{"version":3,"sources":["../../src/pages/faculty/fac-change-password/fac-change-password.ts","../../src/pages/faculty/fac-change-password/fac-change-password.module.ts"],"names":[],"mappings":"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","file":"32.js","sourcesContent":["import { Component } from \"@angular/core\";\nimport { IonicPage, NavController, NavParams } from \"ionic-angular\";\nimport { FacAuthServiceProvider } from \"../../../providers/fac-auth-service/fac-auth-service\";\n\n/**\n * Generated class for the FacChangePasswordPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: \"page-fac-change-password\",\n  templateUrl: \"fac-change-password.html\"\n})\nexport class FacChangePasswordPage {\n  responseData: any;\n  updatePassword = { faculty_login_key: \"\", password: \"\", newPassword: \"\" };\n  chnagePasswordError: any;\n  error: any;\n  confirmPassword: any;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public authFacService: FacAuthServiceProvider\n  ) {}\n\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad FacChangePasswordPage\");\n  }\n\n  changePassword() {\n    console.log(\"Faculty user_val\", this.updatePassword);\n    let fac_login_key = JSON.parse(localStorage.getItem(\"facultyData\"));\n    this.updatePassword.faculty_login_key = fac_login_key.faculty_login_key;\n\n    if (this.updatePassword.newPassword != this.confirmPassword) {\n      console.log(\"The password confirmation and new password must match.\");\n      this.updatePassword.password = \"\";\n      this.updatePassword.newPassword = \"\";\n      this.confirmPassword = \"\";\n      this.error = true;\n      this.chnagePasswordError =\n        \"The password confirmation and new password must match.\";\n    } else {\n      this.authFacService\n        .postData(this.updatePassword, \"faculty-app-update-login-password\")\n        .subscribe(\n          data => {\n            console.log(data);\n            let result = JSON.parse(data._body);\n            this.responseData = result;\n\n            if (this.responseData) {\n              console.log(\"change password response: \", this.responseData);\n              alert(\"Password Updated Successfully\");\n              // this.navCtrl.setRoot(this.navCtrl.getActive().component);\n              localStorage.clear();\n              this.navCtrl.setRoot(\"LandingPage\");\n            } else {\n              // alert(\"Invalid User\");\n              this.error = true;\n              this.chnagePasswordError = \"Invalid Password\";\n              console.log(\"Invalid User\");\n            }\n          },\n          (err: any) => {\n            if (err.status === 401) {\n              this.error = true;\n              this.chnagePasswordError =\n                \"Invalid Credentials. Please Enter valid Details \";\n              console.log(\"error log list: \", err);\n              console.log(\"error log list: \", err.statusText);\n              console.log(\"error log list: \", err.message);\n\n              // this.navCtrl.setRoot(LoginPage);\n\n              // alert(\"Unauthorised User\");\n              // redirect to the login route\n              // or show a modal\n            }\n            if (err.status === 0) {\n              alert(\"Network Connection Error. Please try Again.\");\n              // localStorage.clear();\n\n              // this.navCtrl.setRoot(\"LandingPage\");\n              // redirect to the login route\n              // or show a modal\n            }\n          }\n        );\n    }\n  }\n  reset() {\n    // this.app.getRootNav().setRoot(FacAttendanceReportPage);\n    this.navCtrl.setRoot(\"FacChangePasswordPage\");\n  }\n\n  back() {\n    this.navCtrl.setRoot(\"FacHomePage\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/faculty/fac-change-password/fac-change-password.ts","import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { FacChangePasswordPage } from \"./fac-change-password\";\n\n@NgModule({\n  declarations: [FacChangePasswordPage],\n  imports: [IonicPageModule.forChild(FacChangePasswordPage)],\n  exports: [FacChangePasswordPage]\n})\nexport class FacChangePasswordPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/faculty/fac-change-password/fac-change-password.module.ts"],"sourceRoot":""}