{"version":3,"sources":["../../src/pages/student/stud-reset-password/stud-reset-password.ts","../../src/pages/student/stud-reset-password/stud-reset-password.module.ts"],"names":[],"mappings":"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","file":"11.js","sourcesContent":["import { Component } from \"@angular/core\";\nimport { IonicPage, NavController, NavParams } from \"ionic-angular\";\nimport { AuthServiceProvider } from \"../../../providers/auth-service/auth-service\";\n\n/**\n * Generated class for the StudResetPasswordPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: \"page-stud-reset-password\",\n  templateUrl: \"stud-reset-password.html\"\n})\nexport class StudResetPasswordPage {\n  resetPasswd = {\n    password: \"\",\n    password_confirmation: \"\"\n  };\n  responseData: any;\n  error: any;\n  loginError: any;\n  icon: any;\n  process_type: any;\n  buttonLabel: any;\n  pageHeading: any;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public authService: AuthServiceProvider\n  ) {\n    console.log(this.navParams.get(\"process_type\"));\n    this.process_type = this.navParams.get(\"process_type\");\n\n    if (this.process_type == \"register\") {\n      this.pageHeading = \"Create Password\";\n      this.buttonLabel = \"Register\";\n    } else {\n      this.pageHeading = \"Reset Password\";\n      this.buttonLabel = \"Reset Password\";\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad StudResetPasswordPage\");\n  }\n\n  showPassword(input: any): any {\n    console.log(\"input type: \", input.type);\n    input.type = input.type === \"password\" ? \"text\" : \"password\";\n    input.setFocus();\n    console.log(\"input icon: \", this.icon);\n    this.icon = this.icon === \"eye-off\" ? \"eye\" : \"eye-off\";\n    //  input.type = input.type === 'text' ?  'password' : 'text';\n  }\n\n  setPassword() {\n    console.log(\"login_data: \", this.resetPasswd);\n\n    this.authService\n      .postloginData(this.resetPasswd, \"password-change\")\n      .subscribe(\n        data => {\n          console.log(data);\n          let result = JSON.parse(data._body);\n          this.responseData = result;\n          console.log(\"login_data: \", this.resetPasswd);\n\n          if (this.responseData.message) {\n            console.log(this.responseData);\n            // localStorage.setItem(\"signData\", JSON.stringify(this.responseData));\n            // localStorage.setItem(\n            //   \"token\",\n            //   JSON.stringify(this.responseData.token)\n            // );\n            // localStorage.setItem(\n            //   \"token_type\",\n            //   JSON.stringify(this.responseData.token_type)\n            // );\n\n            // this.getUser();\n\n            localStorage.clear();\n            alert(this.responseData.message);\n            this.navCtrl.setRoot(\"LoginPage\");\n          } else {\n            // alert(\"Invalid User\");\n            this.error = true;\n            this.loginError = \"Not Valid\";\n            console.log(\"Invalid User\");\n          }\n        },\n        (err: any) => {\n          if (err.status === 401) {\n            this.error = true;\n            this.loginError = \"Minimum password length is 7! \";\n            console.log(\"error log list: \", err);\n            console.log(\"error log list: \", err.statusText);\n            console.log(\"error log list: \", err.message);\n\n            // alert(\"Unauthorised User\");\n            // redirect to the login route\n            // or show a modal\n          }\n          if (err.status === 400) {\n            this.error = true;\n            this.loginError = \"Minimum password length is 7! \";\n            console.log(\"error log list: \", err);\n            // alert(\"Bad Request\");\n\n            // alert(\"Unauthorised User\");\n            // redirect to the login route\n            // or show a modal\n          }\n          if (err.status === 0) {\n            alert(\"Network Connection Error. Please try Again.\");\n            this.navCtrl.setRoot(\"LoginPage\");\n            // redirect to the login route\n            // or show a modal\n          }\n        }\n      );\n  }\n\n  checkConfirmPassword() {\n    console.log(\"paswd: \", this.resetPasswd.password);\n    console.log(\"confirm paswd: \", this.resetPasswd.password_confirmation);\n\n    if (this.resetPasswd.password == this.resetPasswd.password_confirmation) {\n      this.error = true;\n      this.loginError = \"\";\n      this.setPassword();\n      console.log(\"true val\");\n    } else {\n      // localStorage.clear();\n      this.error = true;\n      this.loginError = \"Password Mismatch\";\n      console.log(\"false val\");\n    }\n  }\n\n  ionViewWillLeave() {\n    localStorage.clear();\n  }\n\n  back() {\n    localStorage.clear();\n    this.navCtrl.setRoot(\"LoginPage\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/student/stud-reset-password/stud-reset-password.ts","import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { StudResetPasswordPage } from \"./stud-reset-password\";\n\n@NgModule({\n  declarations: [StudResetPasswordPage],\n  imports: [IonicPageModule.forChild(StudResetPasswordPage)],\n  exports: [StudResetPasswordPage]\n})\nexport class StudResetPasswordPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/student/stud-reset-password/stud-reset-password.module.ts"],"sourceRoot":""}