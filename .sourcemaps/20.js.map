{"version":3,"sources":["../../src/pages/stud-reset-login/stud-reset-login.ts","../../src/pages/stud-reset-login/stud-reset-login.module.ts"],"names":[],"mappings":"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","file":"20.js","sourcesContent":["import { Component } from \"@angular/core\";\nimport { IonicPage, NavController, NavParams, Events } from \"ionic-angular\";\nimport { AuthServiceProvider } from \"../../providers/auth-service/auth-service\";\n\n/**\n * Generated class for the StudResetLoginPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: \"page-stud-reset-login\",\n  templateUrl: \"stud-reset-login.html\"\n})\nexport class StudResetLoginPage {\n  responseData: any;\n  error: any;\n  loginError: any;\n  Page_heading: any;\n  buttonLabel: any;\n  parentOtp = {\n    mobile_number: \"\",\n    user_type: \"PARENT\",\n    client_unique_key: \"MJES\", //MJES ALOYSIUS\n    institution_abbreviation: \"SAG\",\n    process_type: \"\"\n  };\n  user_val: any;\n  ParentForm: any;\n  FacultyForm: any;\n  LoginError: any;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public authService: AuthServiceProvider,\n    public events: Events\n  ) {\n    console.log(this.navParams.get(\"process_type\"));\n    this.parentOtp.process_type = this.navParams.get(\"process_type\");\n\n    if (this.parentOtp.process_type == \"register\") {\n      this.Page_heading = \"Register\";\n      this.buttonLabel = \"Register\";\n    } else {\n      this.Page_heading = \"Reset Password\";\n      this.buttonLabel = \"Reset Password\";\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad StudResetLoginPage\");\n  }\n\n  resetLogin() {\n    //menu code\n\n    this.user_val = \"p\";\n    localStorage.setItem(\"user_val\", JSON.stringify(this.user_val));\n    console.log(\"user_val\", this.user_val);\n    this.ParentForm = true;\n    this.FacultyForm = false;\n    // this.studentForm = false;\n    localStorage.setItem(\"user_logged_in\", \"parent\");\n    console.log(\"UserType:\", \"parent\");\n    localStorage.setItem(\"parentMenuShow\", JSON.stringify(true));\n    localStorage.setItem(\"facultyMenuShow\", JSON.stringify(false));\n\n    // localStorage.setItem(\"user_val\", JSON.stringify(this.user_val));\n    this.events.publish(\"user:parent\");\n\n    //end menu code\n\n    console.log(\"user_val\", this.user_val);\n    localStorage.setItem(\"user_val\", JSON.stringify(this.user_val));\n    console.log(\"Parent otp:\", this.parentOtp);\n    this.authService.postlogData(this.parentOtp, \"generate-otp\").subscribe(\n      data => {\n        console.log(data);\n        let result = JSON.parse(data._body);\n        this.responseData = result;\n\n        if (this.responseData.token) {\n          console.log(this.responseData);\n          localStorage.setItem(\n            \"parentOtpData\",\n            JSON.stringify(this.responseData)\n          );\n          localStorage.setItem(\n            \"parentToken\",\n            JSON.stringify(this.responseData.token)\n          );\n          localStorage.setItem(\n            \"parentMobileNumber\",\n            JSON.stringify(this.responseData.mobile_number)\n          );\n          localStorage.setItem(\n            \"parentOtp\",\n            JSON.stringify(this.responseData.otp)\n          );\n\n          console.log(\"user_type \", this.parentOtp.user_type);\n          this.navCtrl.setRoot(\"VerifyOtpPage\", {\n            process_type: this.parentOtp.process_type\n          });\n        } else {\n          // alert(\"Invalid User\");\n          this.error = true;\n          this.LoginError =\n            \"Already registered!! Kindly login using mobile no and password.\";\n          console.log(\"Invalid User\");\n        }\n      },\n      (err: any) => {\n        if (err.status == 400) {\n          this.error = true;\n          this.LoginError = \"Invalid credentials. Please enter valid details \";\n          console.log(\"error log list: \", err);\n          console.log(\"error log list: \", err.statusText);\n          console.log(\"error log list: \", err.message);\n          // this.navCtrl.setRoot(LoginPage);\n\n          // alert(\"Unauthorised User\");\n          // redirect to the login route\n          // or show a modal\n        }\n        if (err.status == 0) {\n          alert(\"Network Connection Error. Please try Again.\");\n          // localStorage.clear();\n          // this.navCtrl.setRoot(\"LandingPage\");\n          // this.navCtrl.setRoot(LoginPage);\n          // redirect to the login route\n          // or show a modal\n        }\n      }\n    );\n  }\n  back() {\n    this.navCtrl.setRoot(\"LoginPage\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stud-reset-login/stud-reset-login.ts","import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { StudResetLoginPage } from \"./stud-reset-login\";\n\n@NgModule({\n  declarations: [StudResetLoginPage],\n  imports: [IonicPageModule.forChild(StudResetLoginPage)],\n  exports: [StudResetLoginPage]\n})\nexport class StudResetLoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stud-reset-login/stud-reset-login.module.ts"],"sourceRoot":""}