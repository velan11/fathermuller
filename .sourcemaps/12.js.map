{"version":3,"sources":["../../src/pages/student/stud-progress-report/stud-progress-report.ts","../../src/pages/student/stud-progress-report/stud-progress-report.module.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  LoadingController\n} from \"ionic-angular\";\nimport { AuthServiceProvider } from \"../../../providers/auth-service/auth-service\";\n// import * as jsPDF from \"jspdf\";\n// import * as html2canvas from \"html2canvas\";\n// import { File } from \"@ionic-native/file\";\n// import { FileOpener } from \"@ionic-native/file-opener/ngx\";\n\n/**\n * Generated class for the StudProgressReportPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: \"page-stud-progress-report\",\n  templateUrl: \"stud-progress-report.html\"\n})\nexport class StudProgressReportPage {\n  data: any;\n  responseData: any;\n  exam_title: any = [];\n  mark_details: any = [];\n  marks_report: any;\n  noData = false;\n  noDataValue: any;\n  mark_details_key = [];\n\n  mark_data = [];\n  mark_details_data = [];\n  noMarks: any;\n  dataloading: any;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public authService: AuthServiceProvider,\n    public loadingCtrl: LoadingController\n  ) {\n    this.getMarksInfo();\n  }\n\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad MarksPage\");\n    this.presentLoadingCustom();\n  }\n  presentLoadingCustom() {\n    const loading = this.loadingCtrl.create({\n      content: \"Loading...\",\n      duration: 1000\n    });\n\n    loading.onDidDismiss(() => {\n      console.log(\"Dismissed loading\");\n    });\n\n    loading.present();\n  }\n\n  getMarksInfo() {\n    let getMarksUrl = \"student-marks\";\n    console.log(\"Marks Info-\", getMarksUrl);\n\n    this.authService.getStudentData(getMarksUrl).subscribe(\n      data => {\n        console.log(data);\n        this.data = JSON.parse(data._body);\n        this.responseData = this.data.data;\n        console.log(\"response data\", this.responseData);\n        // this.toggleSection(0);\n        console.log(\n          \"this.responseData.mark_details:\",\n          this.responseData.mark_details\n        );\n        if (this.responseData.length > 0) {\n          this.noMarks = true;\n          console.log(\"Marks Data: \", this.responseData);\n          // for (let key in this.responseData[0].mark_details) {\n          //   console.log(\"key value: \", key);\n          //   console.log(\n          //     \"Key Value Marks Details: \",\n          //     this.responseData[0].mark_details[key][0].subject\n          //   );\n          //   this.mark_details_key.push(key);\n          // }\n          // console.log(\"key value details: \", this.mark_details_key);\n\n          for (let i = 0; i < this.responseData.length; i++) {\n            console.log(\"Exam Title: \", this.responseData[i].exam_title);\n            this.exam_title.push(this.responseData[i].exam_title);\n            console.log(\"Exam Details: \", this.responseData[i].mark_details);\n            // let key = this.mark_details_key[i];\n\n            for (let key in this.responseData[i].mark_details) {\n              // let j;\n              console.log(\"key value: \", key);\n              console.log(\n                \"Key Value Marks Details: \",\n                this.responseData[i].mark_details[key]\n              );\n              this.mark_details_data.push(\n                this.responseData[i].mark_details[key]\n              );\n              console.log(\"marks details for loop:\", this.mark_details_data);\n            }\n            this.mark_data.push({\n              exam_title: this.responseData[i].exam_title,\n              mark_details: this.mark_details_data\n            });\n            this.mark_details_data = [];\n\n            // for (let j = 0; j < this.responseData[i].mark_details.length; j++) {\n            //   console.log(\n            //     \"Exam Details marks: \",\n            //     this.responseData[i].this.mark_details_key[j].subject\n            //   );\n            //   this.mark_details.push(this.responseData[i].mark_details[j]);\n            // }\n          }\n\n          console.log(\"marks_details_value_end: \", this.mark_details);\n          console.log(\"marks_data: \", this.mark_data);\n          this.toggleSection(0);\n        } else {\n          this.noMarks = false;\n          this.noData = true;\n          this.noDataValue = \"No Items to Display\";\n          console.log(\"No Items to Display\");\n        }\n      },\n      (err: any) => {\n        if (err.status === 401) {\n          console.log(\"error log list: \", err.message);\n        }\n        if (err.status === 400) {\n          console.log(\"Bad Request: \", err);\n          alert(\"Bad Request\");\n        }\n        if (err.status === 0) {\n          alert(\"Network Connection Error. Please try Again.\");\n          this.navCtrl.setRoot(\"StudHomePage\");\n        }\n      }\n    );\n  }\n  back() {\n    this.navCtrl.pop();\n  }\n\n  /*-------- toggle mark display---*/\n  toggleSection(i) {\n    console.log(\"outside i=\", i);\n\n    if (i == 0) {\n      console.log(\"inside i=\", i);\n      this.mark_data[i].open = this.mark_data[i].open;\n    }\n    this.mark_data[i].open = !this.mark_data[i].open;\n  }\n\n  toggleItem(i, j) {\n    console.log();\n    if (i == 0) {\n      console.log(\"inside toggleItem i=\", i);\n      this.mark_data[i].mark_details[j].open = this.mark_data[i].mark_details[\n        j\n      ].open;\n    }\n    this.mark_data[i].mark_details[j].open = !this.mark_data[i].mark_details[j]\n      .open;\n  }\n  /*-------- end toggle mark display---*/\n\n  /*---------Loading Method-----------*/\n  DataLoading() {\n    this.dataloading = this.loadingCtrl.create({\n      content: \"Loading...\"\n    });\n\n    this.dataloading.present();\n  }\n  /*---------end Loading Method-----------*/\n\n  /*---------Save Marks as pdf --------------- */\n\n  // generatePdf() {\n  //   let loading = this.loadingCtrl.create({\n  //     content: \"Creating PDF File\",\n  //     spinner: \"dots\"\n  //   });\n  //   loading.present();\n  //   const div = document.getElementById(\"Html2Pdf\");\n  //   var imgWidth = 210;\n  //   var pageHeight = 295;\n  //   var imgHeight = (div.clientHeight * imgWidth) / div.clientWidth;\n  //   var heightLeft = imgHeight;\n  //   // div.clientHeight\n  //   // div.clientWidth\n  //   // var options = {\n  //   // pagesplit: true\n  //   // };\n  //   const options = {\n  //     background: \"white\",\n  //     height: div.clientHeight,\n  //     width: div.clientWidth,\n  //     pagesplit: true\n  //   };\n  //   console.log(div.clientHeight, \"hight\");\n  //   console.log(div.clientWidth, \"width\");\n  //   html2canvas(div, options).then(canvas => {\n  //     //Initialize JSPDF\n  //     var doc = new jsPDF(\"p\", \"mm\", \"a4\");\n  //     //Converting canvas to Image\n  //     let imgData = canvas.toDataURL(\"image/PNG\");\n  //     //Add image Canvas to PDF\n  //     // doc.addImage(imgData, 'PNG', 10,10, );\n  //     // doc.addPage();\n  //     var position = 0;\n  //     doc.addImage(imgData, \"PNG\", 0, position, imgWidth, imgHeight);\n  //     heightLeft -= pageHeight;\n  //     console.log(heightLeft, \"hieght left\");\n  //     while (heightLeft >= 0) {\n  //       position = heightLeft - imgHeight;\n  //       console.log(position, \"postion\");\n  //       doc.addPage();\n  //       doc.addImage(imgData, \"PNG\", 0, position, imgWidth, imgHeight);\n  //       heightLeft -= pageHeight;\n  //     }\n  //     let pdfOutput = doc.output();\n  //     // using ArrayBuffer will allow you to put image inside PDF\n  //     let buffer = new ArrayBuffer(pdfOutput.length);\n  //     let array = new Uint8Array(buffer);\n  //     // let array = new Array(buffer);\n  //     console.log(array, \"pdfOutput\");\n  //     for (var i = 0; i < pdfOutput.length; i++) {\n  //       array[i] = pdfOutput.charCodeAt(i);\n  //     }\n\n  //     //This is where the PDF file will stored , you can change it as you like\n  //     // for more information please visit https://ionicframework.com/docs/native/file/\n  //     const directory = this.file.externalApplicationStorageDirectory;\n  //     //Name of pdf\n  //     //Name of pdf\n  //     const fileName = \"ProgressReport.pdf\";\n  //     //Writing File to Device\n  //     this.file\n  //       .writeFile(directory, fileName, buffer, { replace: true })\n  //       .then(success => {\n  //         loading.dismiss();\n  //         alert(\"File created Succesfully\");\n  //         this.fileOpener\n  //           .open(success.nativeURL, \"application/pdf\")\n  //           .then(success => {\n  //             console.log(\"File Opened Succesfully\" + JSON.stringify(success));\n  //           })\n  //           .catch(error =>\n  //             console.log(\"Cannot Open File \" + JSON.stringify(error))\n  //           );\n  //       })\n  //       .catch(error => alert(\"Cannot Create File \"));\n  //   });\n  // }\n\n  /*--------- end Save Marks as pdf --------------- */\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/student/stud-progress-report/stud-progress-report.ts","import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { StudProgressReportPage } from \"./stud-progress-report\";\n\n@NgModule({\n  declarations: [StudProgressReportPage],\n  imports: [IonicPageModule.forChild(StudProgressReportPage)],\n  exports: [StudProgressReportPage]\n})\nexport class StudProgressReportPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/student/stud-progress-report/stud-progress-report.module.ts"],"sourceRoot":""}