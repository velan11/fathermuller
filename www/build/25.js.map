{"version":3,"sources":["../../src/pages/faculty/load-institute/load-institute.ts","../../src/pages/faculty/load-institute/load-institute.module.ts"],"names":[],"mappings":"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","file":"25.js","sourcesContent":["import { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  App,\n  LoadingController,\n  AlertController\n} from \"ionic-angular\";\nimport { FacAuthServiceProvider } from \"../../../providers/fac-auth-service/fac-auth-service\";\n\n/**\n * Generated class for the LoadInstitutePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: \"page-load-institute\",\n  templateUrl: \"load-institute.html\"\n})\nexport class LoadInstitutePage {\n  responseData: any;\n  testRadioOpen: any;\n  testRadioResult: any;\n  faculty_login_key1: any;\n  faculty_login_key: any;\n  institution_lists: any;\n  institution_id = [];\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public authFacService: FacAuthServiceProvider,\n    public appCtrl: App,\n    public atrCtrl: AlertController,\n    public loadingCtrl: LoadingController\n  ) {\n    this.presentLoadingDefault();\n  }\n\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad LoadInstitutePage\");\n\n    this.getInstitute();\n  }\n\n  presentLoadingDefault() {\n    let loading = this.loadingCtrl.create({\n      content: \"Logging In...\"\n    });\n\n    loading.present();\n\n    setTimeout(() => {\n      loading.dismiss();\n    }, 800);\n  }\n\n  getInstitute() {\n    console.log(\"getInstitute method\");\n\n    this.faculty_login_key1 = JSON.parse(localStorage.getItem(\"facultyData\"));\n    console.log(\n      \"faculty_login_key-attendance\",\n      this.faculty_login_key1.faculty_login_key\n    );\n    let clientkey = localStorage.getItem(\"clientkey\");\n    console.log(\"clientkey\", clientkey);\n\n    this.faculty_login_key = this.faculty_login_key1.faculty_login_key;\n\n    let attendanceVal =\n      \"student-attendance-get-institution?clientkey=\" +\n      clientkey +\n      \"&faculty_login_key=\" +\n      this.faculty_login_key1.faculty_login_key;\n    console.log(\"Attedance Val-\", attendanceVal);\n\n    this.authFacService.getData(attendanceVal).subscribe(\n      data => {\n        console.log(data);\n        let result = JSON.parse(data._body);\n        this.responseData = result;\n        console.log(this.responseData);\n        console.log(\"institution list: \", this.responseData.institution_lists);\n        console.log(\n          \"institution length: \",\n          this.responseData.institution_lists.length\n        );\n        // this.getCourse();\n\n        if (this.responseData.institution_lists.length > 1) {\n          this.institution_lists = this.responseData.institution_lists;\n          // this.getCourse();\n          localStorage.setItem(\n            \"getStudents.institution\",\n            JSON.stringify(this.responseData.institution_lists.id)\n          );\n          console.log(\n            \"response Institution: \",\n            this.responseData.institution_lists[0].id\n          );\n\n          /*----- alert for institution popup ------*/\n\n          let alert = this.atrCtrl.create();\n          alert.setTitle(\"Select Institution\");\n\n          for (let i = 0; i < this.institution_lists.length; i++) {\n            // institution list\n            this.institution_id.push(\n              this.institution_lists[i].id,\n              this.institution_lists[i].display_name\n            );\n\n            if (i == 0) {\n              alert.addInput({\n                type: \"radio\",\n                label: this.institution_lists[i].display_name,\n                value: this.institution_lists[i].id,\n                checked: true\n              });\n            } else {\n              alert.addInput({\n                type: \"radio\",\n                label: this.institution_lists[i].display_name,\n                value: this.institution_lists[i].id,\n                checked: false\n              });\n            }\n          }\n\n          // alert.addButton('Cancel');\n          alert.addButton({\n            text: \"OK\",\n            handler: data => {\n              this.testRadioOpen = false;\n              this.testRadioResult = data;\n              console.log(\"radiovalue: \", this.testRadioResult);\n              localStorage.setItem(\"institution_id\", this.testRadioResult);\n            }\n          });\n          alert.present();\n          this.navCtrl.setRoot(\"FacHomePage\");\n        } else {\n          localStorage.setItem(\n            \"institution_id\",\n            JSON.stringify(this.responseData.institution_lists[0].id)\n          );\n          console.log(\n            \"response Institution: \",\n            this.responseData.institution_lists[0].id\n          );\n          this.navCtrl.setRoot(\"FacHomePage\");\n        }\n      },\n      err => {\n        if (err.status === 401) {\n          alert(\"Unauthorised User!! Login Again!!\");\n          this.navCtrl.setRoot(\"FacLgoutPage\");\n          // redirect to the logout route\n          // or show a modal\n        }\n        if (err.status === 0) {\n          alert(\"Network Connection Error. Please try Again.\");\n          // localStorage.clear();\n          // this.navCtrl.setRoot(\"LandingPage\");\n          // redirect to the logout route\n          // or show a modal\n        }\n      }\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/faculty/load-institute/load-institute.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoadInstitutePage } from './load-institute';\n\n@NgModule({\n  declarations: [\n    LoadInstitutePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoadInstitutePage),\n  ],\n})\nexport class LoadInstitutePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/faculty/load-institute/load-institute.module.ts"],"sourceRoot":""}